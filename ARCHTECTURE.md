# Aquitetura do Webservice
- `app` : Pasta que contém todos os módulos do webservice
  - `database`: Este pacote contém toda a parte relacionada ao banco de dados, configurações das credênciais, criação das conexção e criação do banco de dados.
  - `model`: Este pacote contém todas as tabelas do banco de dados. Elas foram criadas usando o framework de ORM (_Object Relation Map_) [Flask-SQLAlchemy](https://flask-sqlalchemy.palletsprojects.com/en/2.x/). Assim, toda lógicas de consulta e relacionamento das tabelas foi realizado usando os benefícios dessa lib. A motivação para o uso desse ORM foi para evitar a ciração de _queries_ SQL e tornar o códico mais legível. Uma das desvantagem é a difícil tarefa de criar consultas mais elaboradas. O banco de dados é criado quando o script [create_database](./create_import_db.py) é chamado. Este script cria um banco de dados local e realiza a inserção automática de valores _fake_ ao banco criado, usados para tests. Vale lembara que **para a criação do banco o [SGBD MYSQL](https://dev.mysql.com/downloads/installer/) deve está instalado e as credênciais devem está de acordo com as do seu servidor mysql local, no caso dos tests locais. Coloque as credências num arquivo chamado connection.json na pasta database com as informações requeridas no módulo [config](./app/database/config.py), se não houver o arquivo, crie-o**.
  - `controller`: Este pacote contém os módulos que irão ser a interface entre a consuta de dados dos modelos e a exposição dos dados de recurso pelo webservice. 
  - `resources`: Este módulo contém os objetos com as regras de exposição dos recursos. Eles foram desenvolvidos utilizando o framework [flask-RESTfull](https://flask-restful.readthedocs.io/en/latest/).
  - `tests`: Este pacote contém os tests criado para realizar consultas automáticas aos recuros criados. Eles foram criados uttlizando a lib [requests](https://pypi.org/project/requests/) do python. Não foi utlizado nenhum framework de tests, mas apenas funções que realizam requisições para os recursos espostos. A chamada para dos tests é realizada na execução do [escript principal dos tests](./test_routes.py).
  - `create_import_db.py`: Script de criação do banco de dados e suas tabelas, além de inserção automática de dados fake, caso não necessite apenas desabilite no script a função de inport.
  - `test_routs.py`: Script de execução dos tests automatizados de requisição das rotas criadas.
  - `application.py`: Script de execução do webservice. Nele, serão adicionado todos os recuros criado no pacote `resource`. O nome do script se dá pelo querimento no deploy no service **Beanstalk da AWS**. Assim, é obrigatório que o nome deste script seja application.py e que o objeto flask no script seja denominado application também como requerimento para o deploy na AWS.

    >_Disclaimer_: Para o maior entendimento da criação e desenvolvimento dos módulos e do webservice em geral é necessário conhecer o framework utilizado disponíveis neste documento nos links relacionados.
